series: jammy
applications:
  ceph-mon:
    charm: ceph-mon
    channel: quincy/stable
    num_units: 3
    to:
    - lxd:0
    - lxd:1
    - lxd:2
    options:
      # LP: #1929262
      config-flags: '{"mon":{"auth allow insecure global id reclaim":"false"}}'
      expected-osd-count: 3
      monitor-count: 3
      source: distro
  ceph-osd:
    charm: ceph-osd
    channel: quincy/stable
    num_units: 3
    to:
    - "0"
    - "1"
    - "2"
    options:
      aa-profile-mode: enforce
      osd-devices: /dev/sdb /dev/vdb
      source: distro
machines:
  "0": {}
  "1": {}
  "2": {}
relations:
- - ceph-osd:mon
  - ceph-mon:osd
